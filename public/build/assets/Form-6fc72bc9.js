import{k,T as S,m as V,H as C,U as O,o as n,f as c,a as p,u as r,w as U,F,Z as I,b as e,e as h,i as x,q as f,d as _,t as u,g as m,V as N,W as j,X as B}from"./app-19d1b71a.js";import{_ as D}from"./AdminLayout-08107c63.js";import{S as M}from"./sweetalert2.all-ba6d6e06.js";import{_ as P}from"./_plugin-vue_export-helper-c27b6911.js";const d=i=>(j("data-v-467b0d14"),i=i(),B(),i),T={class:"relative overflow-x-auto sm:rounded-lg p-12 mx-12 shadow-lg"},W=d(()=>e("h1",{class:"text-gray-900 dark:text-gray-100 text-3xl mb-7 font-semibold text-center"},"What are you going to sell ?",-1)),q=["onSubmit"],z={class:"grid gap-6 mb-6 md:grid-cols-2"},A=d(()=>e("label",{for:"name",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Category",-1)),E=d(()=>e("label",{for:"name",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Subcategory",-1)),$={class:"mb-6"},H=d(()=>e("label",{for:"name",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Name",-1)),L={key:0,class:"mt-2 text-sm text-red-600 dark:text-red-500"},X=d(()=>e("span",{class:"font-medium"},"Oh, snapp!",-1)),Z={class:"mb-6"},G=d(()=>e("label",{for:"description",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Description",-1)),J={key:0,class:"mt-2 text-sm text-red-600 dark:text-red-500"},K=d(()=>e("span",{class:"font-medium"},"Oh, snapp!",-1)),Q={class:"grid gap-6 md:grid-cols-2"},R={class:"mb-6"},Y=d(()=>e("label",{for:"limit",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Limit",-1)),ee={key:0,class:"mt-2 text-sm text-red-600 dark:text-red-500"},te=d(()=>e("span",{class:"font-medium"},"Oh, snapp!",-1)),re={class:"mb-6"},se=d(()=>e("label",{for:"pictures",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Pictures",-1)),oe=["onChange"],ae={key:0,class:"mt-2 text-sm text-red-600 dark:text-red-500"},de=d(()=>e("span",{class:"font-medium"},"Oh, snapp!",-1)),le=["disabled"],ie={key:0,class:"w-full bg-gray-200 rounded-full h-2.5 dark:bg-gray-700"},ne={__name:"Form",props:{categories:Array,service:Object},setup(i){const s=i,y=k([]),g=k(null),t=S({category_id:s.service?s.service.category_id:null,subcategory_id:s.service?s.service.subcategory_id:null,name:s.service?s.service.name:null,description:s.service?s.service.description:null,limit:s.service?s.service.limit:null,pictures:[]});V(()=>{g.value=s.service?s.service.category_id:null}),C(g,(l,a)=>{t.category_id=l,l?y.value=s.categories.find(b=>b.id===l).subcategories:(y.value=[],t.subcategory_id=null)});const v=()=>{const l={onError:()=>{},onSuccess:()=>{t.reset(),M.fire("Saved","Successfuly saved","success")}};s.service?t.post(route("sell.service.update",s.service.id),l):t.post(route("sell.service.store"),l)},w=l=>{t.pictures=l.target.files};return(l,a)=>{const b=O("v-select");return n(),c(F,null,[p(r(I),{title:"Admin - Sell Product"}),p(D,null,{default:U(()=>[e("div",T,[W,e("form",{onSubmit:h(v,["prevent"])},[e("div",z,[e("div",null,[A,p(b,{modelValue:g.value,"onUpdate:modelValue":a[0]||(a[0]=o=>g.value=o),options:i.categories,label:"name",reduce:o=>o.id,class:"bg-gray-50 border border-gray-300 text-gray-900 rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white"},null,8,["modelValue","options","reduce"])]),e("div",null,[E,p(b,{modelValue:r(t).subcategory_id,"onUpdate:modelValue":a[1]||(a[1]=o=>r(t).subcategory_id=o),options:y.value,label:"name",reduce:o=>o.id,class:"bg-gray-50 border border-gray-300 text-gray-900 rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white"},null,8,["modelValue","options","reduce"])])]),e("div",$,[H,x(e("input",{"onUpdate:modelValue":a[2]||(a[2]=o=>r(t).name=o),type:"text",id:"name",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"product xyz",required:""},null,512),[[f,r(t).name]]),r(t).errors.name?(n(),c("p",L,[X,_(" "+u(r(t).errors.name),1)])):m("",!0)]),e("div",Z,[G,x(e("textarea",{"onUpdate:modelValue":a[3]||(a[3]=o=>r(t).description=o),id:"description",rows:"4",class:"block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Write the product description..."},null,512),[[f,r(t).description]]),r(t).errors.description?(n(),c("p",J,[K,_(" "+u(r(t).errors.description),1)])):m("",!0)]),e("div",Q,[e("div",R,[Y,x(e("input",{"onUpdate:modelValue":a[4]||(a[4]=o=>r(t).limit=o),type:"number",id:"limit",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},null,512),[[f,r(t).limit]]),r(t).errors.limit?(n(),c("p",ee,[te,_(" "+u(r(t).errors.limit),1)])):m("",!0)]),e("div",re,[se,e("input",{type:"file",multiple:"",accept:"image/png, image/jpeg, image/jpg, image/webp",onChange:h(w,["prevent"]),id:"pictures",class:"block w-full text-sm text-gray-900 border border-gray-300 rounded-lg cursor-pointer bg-gray-50 dark:text-gray-400 focus:outline-none dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400"},null,40,oe),r(t).errors.pictures?(n(),c("p",ae,[de,_(" "+u(r(t).errors.pictures),1)])):m("",!0)])]),e("button",{type:"submit",disabled:r(t).processing,class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"},"Submit",8,le),r(t).progress?(n(),c("div",ie,[e("div",{class:"bg-blue-600 text-xs font-medium text-blue-100 text-center p-0.5 leading-none rounded-full",style:N(`width: ${r(t).progress.percentage}%`)},u(r(t).progress.percentage)+"%",5)])):m("",!0)],40,q)])]),_:1})],64)}}},be=P(ne,[["__scopeId","data-v-467b0d14"]]);export{be as default};
