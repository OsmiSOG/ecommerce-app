import{k as u,o as r,f as s,a as n,u as i,w as c,F as y,Z as N,b as e,l as b,d as g,t as l,e as m,g as v,j as _,c as $,n as L,O as S}from"./app-6cc1362a.js";import{_ as B}from"./Modal-a267b9b0.js";import D from"./DetailPurcharse-9af96d7e.js";import{N as F}from"./NumberFormat-07b48983.js";import{_ as H}from"./AdminLayout-f7d21ae5.js";import"./_plugin-vue_export-helper-c27b6911.js";const V={class:"p-12"},O={class:"relative overflow-x-auto shadow-md sm:rounded-lg"},A={class:"w-full text-sm text-left text-gray-500 dark:text-gray-400"},P={class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"},q={class:"flex items-center"},z=["onClick"],E=e("i",{class:"fa-solid fa-sort w-3 h-3 ml-1.5"},null,-1),I=[E],Q=e("th",{scope:"col",class:"px-6 py-3"},[e("span",{class:"sr-only"},"Details")],-1),W={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},Z={class:"px-6 py-4"},G={class:"px-6 py-4"},J={class:"px-6 py-4 text-right"},K=["onClick"],R={key:0,class:"bg-white border-b dark:bg-gray-800 dark:border-gray-700"},U=e("td",{colspan:"6",class:"text-lg text-center"},"There is no carts yet",-1),X=[U],Y={class:"flex items-center justify-between pt-4","aria-label":"Table navigation"},ee={class:"text-sm font-normal text-gray-500 dark:text-gray-400"},te={class:"font-semibold text-gray-900 dark:text-white"},re={class:"font-semibold text-gray-900 dark:text-white"},ae={class:"inline-flex -space-x-px text-sm h-8"},se={key:0,"aria-disabled":"true",class:"flex items-center justify-center px-3 h-8 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"},oe=["innerHTML"],le=["innerHTML"],ye={__name:"Index",props:{carts:Object},setup(a){const w=a,C=[{label:"Purcharsed At",field:"created_at",sort:!0},{label:"Total",field:"total",sort:!0},{label:"# Products",field:"salable_id",sort:!1}],f=u(null),d=u(null),x=u(!1),p=u(null),T=o=>{p.value=o,x.value=!0},j=o=>{d.value===o?d.value=d.value.startsWith("-")?o:"-"+o:d.value=o,M()},M=()=>{S.get(route("shopping-history.index",{_query:{page:f.value?1:w.carts.current_page,sort:d.value,filter:{search:f.value}}}),{},{preserveState:!0,replace:!0})};return(o,k)=>(r(),s(y,null,[n(i(N),{title:"Admin - My Shopping history"}),n(H,null,{default:c(()=>[e("div",V,[e("div",O,[e("table",A,[e("thead",P,[e("tr",null,[(r(),s(y,null,b(C,(t,h)=>e("th",{scope:"col",class:"px-6 py-3",key:h},[e("div",q,[g(l(t.label)+" ",1),t.sort?(r(),s("a",{key:0,href:"#",onClick:m(ne=>j(t.field),["prevent"])},I,8,z)):v("",!0)])])),64)),Q])]),e("tbody",null,[(r(!0),s(y,null,b(a.carts.data,t=>(r(),s("tr",{class:"bg-white border-b dark:bg-gray-800 dark:border-gray-700",key:t.id},[e("th",W,l(t.created_at),1),e("td",Z,l(i(F)(t.total)),1),e("td",G,l(t.salable.products.length),1),e("td",J,[e("a",{href:"#",onClick:m(h=>T(t),["prevent"]),class:"font-medium text-blue-600 dark:text-blue-500 hover:underline"},"Details",8,K)])]))),128)),a.carts.data.length===0?(r(),s("tr",R,X)):v("",!0)])]),e("nav",Y,[e("span",ee,[g("Showing "),e("span",te,l(a.carts.from)+"-"+l(a.carts.to),1),g(" of "),e("span",re,l(a.carts.total),1)]),e("ul",ae,[e("li",null,[n(i(_),{href:a.carts.first_page_url,class:"flex items-center justify-center px-3 h-8 ml-0 leading-tight text-gray-500 bg-white border border-gray-300 rounded-l-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"},{default:c(()=>[g(" «« ")]),_:1},8,["href"])]),(r(!0),s(y,null,b(a.carts.links,(t,h)=>(r(),s("li",{key:h},[t.url?(r(),$(i(_),{key:1,href:t.url,"aria-current":t.active?"page":"",class:L(["flex items-center justify-center px-3 h-8 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white",t.active?"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-white":""])},{default:c(()=>[e("span",{innerHTML:t.label},null,8,le)]),_:2},1032,["href","aria-current","class"])):(r(),s("a",se,[e("span",{innerHTML:t.label},null,8,oe)]))]))),128)),e("li",null,[n(i(_),{href:a.carts.last_page_url,class:"flex items-center justify-center px-3 h-8 leading-tight text-gray-500 bg-white border border-gray-300 rounded-r-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"},{default:c(()=>[g(" »» ")]),_:1},8,["href"])])])])])]),n(B,{show:x.value,onClose:k[0]||(k[0]=t=>x.value=!1)},{default:c(()=>[n(D,{cart:p.value},null,8,["cart"])]),_:1},8,["show"])]),_:1})],64))}};export{ye as default};
