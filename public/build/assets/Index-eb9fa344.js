import{k as _,o as a,f as l,a as d,u as n,w as i,F as x,Z as M,b as e,j as g,d as c,i as F,q as N,e as p,l as m,t as r,g as w,c as $,O as B}from"./app-d8e02456.js";import{_ as L}from"./AdminLayout-34d6b165.js";import{_ as P}from"./Modal-d5bdc3d3.js";import V from"./StockForm-03f3cbba.js";import{N as H}from"./NumberFormat-07b48983.js";import"./_plugin-vue_export-helper-c27b6911.js";const A={class:"p-12"},E={class:"relative overflow-x-auto shadow-md sm:rounded-lg"},O={class:"flex justify-between"},q={class:"pb-4 bg-white dark:bg-gray-900"},D=e("label",{for:"table-search",class:"sr-only"},"Search",-1),I={class:"relative mt-1"},Z=e("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},[e("svg",{class:"w-4 h-4 text-gray-500 dark:text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"})])],-1),Q=["onChange"],U={class:"w-full text-sm text-left text-gray-500 dark:text-gray-400"},W={class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"},z={class:"flex items-center"},G=["onClick"],J=e("i",{class:"fa-solid fa-sort w-3 h-3 ml-1.5"},null,-1),K=[J],R=e("th",{scope:"col",class:"px-6 py-3"},[e("span",{class:"sr-only"},"Edit"),e("span",{class:"sr-only"},"Stock")],-1),X={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},Y={class:"px-6 py-4"},ee={class:"px-6 py-4"},te={class:"px-6 py-4"},re={class:"px-6 py-4"},se={class:"px-6 py-4"},ae={class:"px-6 py-4"},oe={class:"px-6 py-4"},le={href:"#",class:"mr-3"},de=["onClick"],ne=e("i",{class:"fa-solid fa-circle-plus"},null,-1),ie=[ne],ce={class:"px-6 py-4"},ue={class:"px-6 py-4"},ge={class:"px-6 py-4 text-right"},he={key:0,class:"bg-white border-b dark:bg-gray-800 dark:border-gray-700"},ye=e("td",{colspan:"6",class:"text-lg text-center"},"There is no products yet",-1),be=[ye],fe={class:"flex items-center justify-between pt-4","aria-label":"Table navigation"},_e={class:"text-sm font-normal text-gray-500 dark:text-gray-400"},xe={class:"font-semibold text-gray-900 dark:text-white"},pe={class:"font-semibold text-gray-900 dark:text-white"},me={class:"inline-flex -space-x-px text-sm h-8"},ke={key:0,"aria-disabled":"true",class:"flex items-center justify-center px-3 h-8 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"},ve=["innerHTML"],we=["innerHTML"],$e={__name:"Index",props:{products:Object},setup(o){const S=o,C=[{label:"Product name",field:"name",sort:!0},{label:"Brand",field:"brand",sort:!0},{label:"Model",field:"model",sort:!0},{label:"reference",field:"reference",sort:!1},{label:"Categoria",field:"category_id",sort:!0},{label:"Subcategoria",field:"subcategory_id",sort:!0},{label:"Price",field:"price",sort:!0},{label:"In Stock",field:"in_stock",sort:!0},{label:"Total Sold",field:"stock_sold_count",sort:!0},{label:"Created At",field:"created_at",sort:!0}],y=_(null),h=_(null),b=_(!1),k=_(null),j=s=>{k.value=s,b.value=!0},T=s=>{h.value===s?h.value=h.value.startsWith("-")?s:"-"+s:h.value=s,v()},v=()=>{B.get(route("sell.product.index",{_query:{page:y.value?1:S.products.current_page,sort:h.value,filter:{search:y.value}}}),{},{preserveState:!0,replace:!0})};return(s,u)=>(a(),l(x,null,[d(n(M),{title:"Admin - Sell Product"}),d(L,null,{default:i(()=>[e("div",A,[e("div",E,[e("div",O,[e("div",null,[d(n(g),{href:s.route("sell.product.create"),type:"button",class:"text-white bg-gradient-to-r from-cyan-400 via-cyan-500 to-cyan-600 hover:bg-gradient-to-br focus:ring-4 focus:outline-none focus:ring-cyan-300 dark:focus:ring-cyan-800 font-medium rounded-lg text-sm px-5 py-2.5 text-center mr-2 mb-2"},{default:i(()=>[c("Sell Product")]),_:1},8,["href"])]),e("div",q,[D,e("div",I,[Z,F(e("input",{onChange:p(v,["prevent"]),"onUpdate:modelValue":u[0]||(u[0]=t=>y.value=t),type:"text",id:"table-search",class:"block p-2 pl-10 text-sm text-gray-900 border border-gray-300 rounded-lg w-80 bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Search for items"},null,40,Q),[[N,y.value]])])])]),e("table",U,[e("thead",W,[e("tr",null,[(a(),l(x,null,m(C,(t,f)=>e("th",{scope:"col",class:"px-6 py-3",key:f},[e("div",z,[c(r(t.label)+" ",1),t.sort?(a(),l("a",{key:0,href:"#",onClick:p(Se=>T(t.field),["prevent"])},K,8,G)):w("",!0)])])),64)),R])]),e("tbody",null,[(a(!0),l(x,null,m(o.products.data,t=>(a(),l("tr",{class:"bg-white border-b dark:bg-gray-800 dark:border-gray-700",key:t.id},[e("th",X,r(t.name),1),e("td",Y,r(t.brand),1),e("td",ee,r(t.model),1),e("td",te,r(t.reference),1),e("td",re,r(t.category.name),1),e("td",se,r(t.subcategory.name),1),e("td",ae," $"+r(t.price),1),e("td",oe,[e("a",le,r(t.stock_available_count??"No"),1),e("a",{href:"#",onClick:p(f=>j(t),["prevent"]),class:"text-lime-600"},ie,8,de)]),e("td",ce,r(t.stock_sold_count)+" - "+r(n(H)(t.stock_sold_sum_sold_price)),1),e("td",ue,r(t.created_at),1),e("td",ge,[d(n(g),{href:s.route("sell.product.edit",t.id),class:"font-medium text-blue-600 dark:text-blue-500 hover:underline"},{default:i(()=>[c("Edit")]),_:2},1032,["href"]),d(n(g),{href:s.route("products.overview",t.id),"preserve-state":!1,replace:!1,class:"font-medium text-gray-800 dark:text-gray-200 ml-2 hover:underline"},{default:i(()=>[c("Show")]),_:2},1032,["href"])])]))),128)),o.products.data.length===0?(a(),l("tr",he,be)):w("",!0)])]),e("nav",fe,[e("span",_e,[c("Showing "),e("span",xe,r(o.products.from)+"-"+r(o.products.to),1),c(" of "),e("span",pe,r(o.products.total),1)]),e("ul",me,[e("li",null,[d(n(g),{href:o.products.first_page_url,class:"flex items-center justify-center px-3 h-8 ml-0 leading-tight text-gray-500 bg-white border border-gray-300 rounded-l-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"},{default:i(()=>[c(" «« ")]),_:1},8,["href"])]),(a(!0),l(x,null,m(o.products.links,(t,f)=>(a(),l("li",{key:f},[t.url?(a(),$(n(g),{key:1,href:t.url,class:"flex items-center justify-center px-3 h-8 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"},{default:i(()=>[e("span",{innerHTML:t.label},null,8,we)]),_:2},1032,["href"])):(a(),l("a",ke,[e("span",{innerHTML:t.label},null,8,ve)]))]))),128)),e("li",null,[d(n(g),{href:o.products.last_page_url,class:"flex items-center justify-center px-3 h-8 leading-tight text-gray-500 bg-white border border-gray-300 rounded-r-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"},{default:i(()=>[c(" »» ")]),_:1},8,["href"])])])])])]),d(P,{show:b.value,onClose:u[2]||(u[2]=t=>b.value=!1)},{default:i(()=>[d(V,{product:k.value,onSubmited:u[1]||(u[1]=t=>b.value=!1)},null,8,["product"])]),_:1},8,["show"])]),_:1})],64))}};export{$e as default};
