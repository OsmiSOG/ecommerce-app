import{k as x,o as a,f as s,a as i,u as c,w as g,F as h,Z as w,b as e,l as _,d,t as r,e as T,g as f,j as u,c as j,n as C,O as S}from"./app-6cc1362a.js";import{_ as M}from"./AdminLayout-f7d21ae5.js";import"./_plugin-vue_export-helper-c27b6911.js";const E={class:"p-12"},L={class:"relative overflow-x-auto shadow-md sm:rounded-lg"},N={class:"w-full text-sm text-left text-gray-500 dark:text-gray-400"},B={class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"},F={class:"flex items-center"},H=["onClick"],V=e("i",{class:"fa-solid fa-sort w-3 h-3 ml-1.5"},null,-1),O=[V],A={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},D={class:"px-6 py-4"},P={class:"px-6 py-4"},$={class:"px-6 py-4"},q={class:"px-6 py-4"},z={class:"px-6 py-4"},G={class:"px-6 py-4"},I={key:0},Q={key:1},W={key:0,class:"bg-white border-b dark:bg-gray-800 dark:border-gray-700"},Z=e("td",{colspan:"6",class:"text-lg text-center"},"There is no subscriptions yet",-1),J=[Z],K={class:"flex items-center justify-between pt-4","aria-label":"Table navigation"},R={class:"text-sm font-normal text-gray-500 dark:text-gray-400"},U={class:"font-semibold text-gray-900 dark:text-white"},X={class:"font-semibold text-gray-900 dark:text-white"},Y={class:"inline-flex -space-x-px text-sm h-8"},ee={key:0,"aria-disabled":"true",class:"flex items-center justify-center px-3 h-8 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"},te=["innerHTML"],re=["innerHTML"],ne={__name:"Index",props:{subscriptions:Object},setup(l){const p=l,k=[{label:"Servicio",field:"plan_id",sort:!0},{label:"Trial Ends (First Payment)",field:"trial_ends_at",sort:!0},{label:"Starts",field:"starts_at",sort:!0},{label:"Ends (Next Payment)",field:"ends_at",sort:!0},{label:"Grace Ends",field:"grace_ends_at",sort:!0},{label:"Discount Ends",field:"discount_ends_at",sort:!0},{label:"Canceled At",field:"canceled_at",sort:!0}],b=x(null),n=x(null),v=o=>{n.value===o?n.value=n.value.startsWith("-")?o:"-"+o:n.value=o,m()},m=()=>{S.get(route("subscription.index",{_query:{page:b.value?1:p.subscriptions.current_page,sort:n.value,filter:{search:b.value}}}),{},{preserveState:!0,replace:!0})};return(o,ae)=>(a(),s(h,null,[i(c(w),{title:"Admin - My Subscriptions"}),i(M,null,{default:g(()=>[e("div",E,[e("div",L,[e("table",N,[e("thead",B,[e("tr",null,[(a(),s(h,null,_(k,(t,y)=>e("th",{scope:"col",class:"px-6 py-3",key:y},[e("div",F,[d(r(t.label)+" ",1),t.sort?(a(),s("a",{key:0,href:"#",onClick:T(se=>v(t.field),["prevent"])},O,8,H)):f("",!0)])])),64))])]),e("tbody",null,[(a(!0),s(h,null,_(l.subscriptions.data,t=>(a(),s("tr",{class:"bg-white border-b dark:bg-gray-800 dark:border-gray-700",key:t.id},[e("th",A,r(t.plan.service_plan.service.name)+" "+r("(")+" "+r(t.plan.name)+" "+r(")"),1),e("td",D,r(t.trial_ends_at),1),e("td",P,r(t.starts_at),1),e("td",$,r(t.ends_at),1),e("td",q,r(t.grace_ends_at),1),e("td",z,r(t.discount_ends_at),1),e("td",G,[t.canceled_at?(a(),s("div",Q,r(t.canceled_at),1)):(a(),s("div",I,[i(c(u),{href:o.route("subscription.cancel",t.id),as:"button",method:"post",class:"font-medium text-blue-600 dark:text-red-500 hover:underline"},{default:g(()=>[d(" Cancel ")]),_:2},1032,["href"])]))])]))),128)),l.subscriptions.data.length===0?(a(),s("tr",W,J)):f("",!0)])]),e("nav",K,[e("span",R,[d("Showing "),e("span",U,r(l.subscriptions.from)+"-"+r(l.subscriptions.to),1),d(" of "),e("span",X,r(l.subscriptions.total),1)]),e("ul",Y,[e("li",null,[i(c(u),{href:l.subscriptions.first_page_url,class:"flex items-center justify-center px-3 h-8 ml-0 leading-tight text-gray-500 bg-white border border-gray-300 rounded-l-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"},{default:g(()=>[d(" «« ")]),_:1},8,["href"])]),(a(!0),s(h,null,_(l.subscriptions.links,(t,y)=>(a(),s("li",{key:y},[t.url?(a(),j(c(u),{key:1,href:t.url,"aria-current":t.active?"page":"",class:C(["flex items-center justify-center px-3 h-8 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white",t.active?"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-white":""])},{default:g(()=>[e("span",{innerHTML:t.label},null,8,re)]),_:2},1032,["href","aria-current","class"])):(a(),s("a",ee,[e("span",{innerHTML:t.label},null,8,te)]))]))),128)),e("li",null,[i(c(u),{href:l.subscriptions.last_page_url,class:"flex items-center justify-center px-3 h-8 leading-tight text-gray-500 bg-white border border-gray-300 rounded-r-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"},{default:g(()=>[d(" »» ")]),_:1},8,["href"])])])])])])]),_:1})],64))}};export{ne as default};
