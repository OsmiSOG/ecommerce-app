import{k as f,o as l,f as i,a as s,u,w as o,F as m,Z as A,b as e,j as g,d,i as F,q as L,e as _,l as k,t as n,g as S,c as B,n as V,O as H}from"./app-629508ef.js";import{_ as N}from"./AdminLayout-97c80dff.js";import{_ as C}from"./Modal-2d60d081.js";import P from"./PlanForm-02c499e3.js";import E from"./Plans-7a72f67f.js";import"./_plugin-vue_export-helper-c27b6911.js";const O={class:"p-12"},D={class:"relative overflow-x-auto shadow-md sm:rounded-lg"},Z={class:"flex justify-between"},z={class:"pb-4 bg-white dark:bg-gray-900"},I=e("label",{for:"table-search",class:"sr-only"},"Search",-1),Q={class:"relative mt-1"},U=e("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},[e("svg",{class:"w-4 h-4 text-gray-500 dark:text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"})])],-1),W=["onChange"],G={class:"w-full text-sm text-left text-gray-500 dark:text-gray-400"},J={class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"},K={class:"flex items-center"},R=["onClick"],X=e("i",{class:"fa-solid fa-sort w-3 h-3 ml-1.5"},null,-1),Y=[X],ee=e("th",{scope:"col",class:"px-6 py-3"},[e("span",{class:"sr-only"},"Edit"),e("span",{class:"sr-only"},"Stock")],-1),te={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},re={class:"px-6 py-4"},ae={class:"px-6 py-4"},se=["onClick"],le=["onClick"],oe=e("i",{class:"fa-solid fa-circle-plus"},null,-1),ne=[oe],ie={class:"px-6 py-4"},de={class:"px-6 py-4"},ce={class:"px-6 py-4"},ue={class:"px-6 py-4 text-right"},ge={key:0,class:"bg-white border-b dark:bg-gray-800 dark:border-gray-700"},he=e("td",{colspan:"6",class:"text-lg text-center"},"There is no services yet",-1),ye=[he],fe={class:"flex items-center justify-between pt-4","aria-label":"Table navigation"},be={class:"text-sm font-normal text-gray-500 dark:text-gray-400"},ve={class:"font-semibold text-gray-900 dark:text-white"},xe={class:"font-semibold text-gray-900 dark:text-white"},me={class:"inline-flex -space-x-px text-sm h-8"},_e={key:0,"aria-disabled":"true",class:"flex items-center justify-center px-3 h-8 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"},pe=["innerHTML"],ke=["innerHTML"],qe={__name:"Index",props:{services:Object,currencies:Array,frequencies:Array,discountTypes:Array},setup(a){const T=a,j=[{label:"Service name",field:"name",sort:!0},{label:"Limit",field:"limit",sort:!0},{label:"Plans",field:"model",sort:!1},{label:"Categoria",field:"category_id",sort:!0},{label:"Subcategoria",field:"subcategory_id",sort:!0},{label:"Created At",field:"created_at",sort:!0}],b=f(null),h=f(null),v=f(!1),p=f(!1),x=f(null),$=r=>{h.value===r?h.value=h.value.startsWith("-")?r:"-"+r:h.value=r,w()},M=r=>{x.value=r,v.value=!0},q=r=>{x.value=r,p.value=!0},w=()=>{H.get(route("sell.service.index",{_query:{page:b.value?1:T.services.current_page,sort:h.value,filter:{search:b.value}}}),{},{preserveState:!0,replace:!0})};return(r,c)=>(l(),i(m,null,[s(u(A),{title:"Admin - Sell Service"}),s(N,null,{default:o(()=>[e("div",O,[e("div",D,[e("div",Z,[e("div",null,[s(u(g),{href:r.route("sell.service.create"),type:"button",class:"text-white bg-gradient-to-r from-cyan-400 via-cyan-500 to-cyan-600 hover:bg-gradient-to-br focus:ring-4 focus:outline-none focus:ring-cyan-300 dark:focus:ring-cyan-800 font-medium rounded-lg text-sm px-5 py-2.5 text-center mr-2 mb-2"},{default:o(()=>[d("Sell Service")]),_:1},8,["href"])]),e("div",z,[I,e("div",Q,[U,F(e("input",{onChange:_(w,["prevent"]),"onUpdate:modelValue":c[0]||(c[0]=t=>b.value=t),type:"text",id:"table-search",class:"block p-2 pl-10 text-sm text-gray-900 border border-gray-300 rounded-lg w-80 bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Search for items"},null,40,W),[[L,b.value]])])])]),e("table",G,[e("thead",J,[e("tr",null,[(l(),i(m,null,k(j,(t,y)=>e("th",{scope:"col",class:"px-6 py-3",key:y},[e("div",K,[d(n(t.label)+" ",1),t.sort?(l(),i("a",{key:0,href:"#",onClick:_(we=>$(t.field),["prevent"])},Y,8,R)):S("",!0)])])),64)),ee])]),e("tbody",null,[(l(!0),i(m,null,k(a.services.data,t=>(l(),i("tr",{class:"bg-white border-b dark:bg-gray-800 dark:border-gray-700",key:t.id},[e("th",te,n(t.name),1),e("td",re,n(t.limit),1),e("td",ae,[e("a",{href:"#",onClick:_(y=>q(t),["prevent"]),class:"mr-3"},n(t.service_plans_count),9,se),e("a",{href:"#",onClick:_(y=>M(t),["prevent"]),class:"text-lime-600"},ne,8,le)]),e("td",ie,n(t.category.name),1),e("td",de,n(t.subcategory.name),1),e("td",ce,n(t.created_at),1),e("td",ue,[s(u(g),{href:r.route("sell.service.edit",t.id),class:"font-medium text-blue-600 dark:text-blue-500 hover:underline"},{default:o(()=>[d("Edit")]),_:2},1032,["href"]),s(u(g),{href:r.route("sell.service.subscriptions.subscribers",t.id),class:"font-medium text-cyan-600 dark:text-cyan-500 ml-2 hover:underline"},{default:o(()=>[d("Subscribers")]),_:2},1032,["href"]),s(u(g),{href:r.route("services.overview",t.id),"preserve-state":!1,replace:!1,class:"font-medium text-gray-800 dark:text-gray-200 ml-2 hover:underline"},{default:o(()=>[d("Show")]),_:2},1032,["href"])])]))),128)),a.services.data.length===0?(l(),i("tr",ge,ye)):S("",!0)])]),e("nav",fe,[e("span",be,[d("Showing "),e("span",ve,n(a.services.from)+"-"+n(a.services.to),1),d(" of "),e("span",xe,n(a.services.total),1)]),e("ul",me,[e("li",null,[s(u(g),{href:a.services.first_page_url,class:"flex items-center justify-center px-3 h-8 ml-0 leading-tight text-gray-500 bg-white border border-gray-300 rounded-l-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"},{default:o(()=>[d(" «« ")]),_:1},8,["href"])]),(l(!0),i(m,null,k(a.services.links,(t,y)=>(l(),i("li",{key:y},[t.url?(l(),B(u(g),{key:1,href:t.url,"aria-current":t.active?"page":"",class:V(["flex items-center justify-center px-3 h-8 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white",t.active?"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-white":""])},{default:o(()=>[e("span",{innerHTML:t.label},null,8,ke)]),_:2},1032,["href","aria-current","class"])):(l(),i("a",_e,[e("span",{innerHTML:t.label},null,8,pe)]))]))),128)),e("li",null,[s(u(g),{href:a.services.last_page_url,class:"flex items-center justify-center px-3 h-8 leading-tight text-gray-500 bg-white border border-gray-300 rounded-r-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"},{default:o(()=>[d(" »» ")]),_:1},8,["href"])])])])])]),s(C,{show:v.value,onClose:c[2]||(c[2]=t=>v.value=!1)},{default:o(()=>[s(P,{service:x.value,currencies:a.currencies,frequencies:a.frequencies,"discount-types":a.discountTypes,onSubmited:c[1]||(c[1]=t=>v.value=!1)},null,8,["service","currencies","frequencies","discount-types"])]),_:1},8,["show"]),s(C,{show:p.value,"max-width":"4xl",onClose:c[3]||(c[3]=t=>p.value=!1)},{default:o(()=>[s(E,{service:x.value},null,8,["service"])]),_:1},8,["show"])]),_:1})],64))}};export{qe as default};
